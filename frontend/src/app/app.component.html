<div class="container">
  <header>
    <h1>ğŸ’° Gestion des DÃ©penses Familiales</h1>
  </header>

  <main>
    <!-- Formulaire d'ajout -->
    <section class="add-expense-section">
      <h2>Ajouter une dÃ©pense</h2>
      <form (ngSubmit)="addExpense()" class="expense-form">
        <div class="form-row">
          <div class="form-group">
            <label for="description">Description *</label>
            <input 
              type="text" 
              id="description"
              [(ngModel)]="newExpense.description"
              name="description"
              placeholder="Ex: Courses au supermarchÃ©"
              required>
          </div>

          <div class="form-group">
            <label for="amount">Montant (â‚¬) *</label>
            <input 
              type="number" 
              id="amount"
              [(ngModel)]="newExpense.amount"
              name="amount"
              step="0.01"
              min="0"
              placeholder="0.00"
              required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="category">CatÃ©gorie *</label>
            <select 
              id="category"
              [(ngModel)]="newExpense.category"
              name="category"
              required>
              <option value="">-- Choisir --</option>
              <option *ngFor="let cat of categories" [value]="cat">{{ cat }}</option>
            </select>
          </div>

          <div class="form-group">
            <label for="date">Date *</label>
            <input 
              type="date" 
              id="date"
              [(ngModel)]="newExpense.date"
              name="date"
              required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="familyMember">Membre de la famille</label>
            <input 
              type="text" 
              id="familyMember"
              [(ngModel)]="newExpense.familyMember"
              name="familyMember"
              placeholder="Ex: Papa, Maman, Jean...">
          </div>
        </div>

        <button type="submit" class="btn-add">â• Ajouter la dÃ©pense</button>
      </form>
    </section>

    <!-- Statistiques -->
    <section class="stats-section">
      <div class="stat-card">
        <h3>ğŸ’µ Total des dÃ©penses</h3>
        <p class="stat-value">{{ getTotalExpenses().toFixed(2) }} â‚¬</p>
      </div>
      <div class="stat-card">
        <h3>ğŸ“Š Nombre de dÃ©penses</h3>
        <p class="stat-value">{{ expenses.length }}</p>
      </div>
    </section>

    <!-- Liste des dÃ©penses -->
    <section class="expenses-list-section">
      <h2>Liste des dÃ©penses</h2>
      
      <div *ngIf="expenses.length === 0" class="no-expenses">
        <p>ğŸ˜Š Aucune dÃ©pense enregistrÃ©e pour le moment.</p>
      </div>

      <div class="expenses-grid" *ngIf="expenses.length > 0">
        <div class="expense-card" *ngFor="let expense of expenses">
          <div class="expense-header">
            <span class="expense-category">{{ expense.category }}</span>
            <span class="expense-date">{{ expense.date }}</span>
          </div>
          <div class="expense-body">
            <h3>{{ expense.description }}</h3>
            <p class="expense-member" *ngIf="expense.familyMember">
              ğŸ‘¤ {{ expense.familyMember }}
            </p>
          </div>
          <div class="expense-footer">
            <span class="expense-amount">{{ expense.amount.toFixed(2) }} â‚¬</span>
            <button 
              class="btn-delete" 
              (click)="deleteExpense(expense.id)"
              title="Supprimer">
              ğŸ—‘ï¸
            </button>
          </div>
        </div>
      </div>
    </section>
  </main>
</div>